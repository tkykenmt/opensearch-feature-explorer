---
tags:
  - observability
---
# Observability CVE Fixes

## Summary

OpenSearch Dashboards Observability plugin v2.16.0 addresses critical security vulnerabilities (CVEs) in frontend dependencies, specifically in the ag-grid, ws, and braces packages. Due to compatibility issues with the upgraded ag-grid v32, the data table component was removed from the Logs Explorer view.

## Details

### What's New in v2.16.0

#### CVE Remediation

The following CVEs were addressed:

| CVE ID | Package | Severity | Resolution |
|--------|---------|----------|------------|
| CVE-2024-38996 | ag-grid | Critical | Package removed |
| CVE-2024-39001 | ag-grid | High | Package removed |
| CVE-2024-37890 | ws | High | Upgraded to ^8.18.0 |
| N/A | braces | Medium | Upgraded to ^3.0.3 |

#### Dependency Changes

Initial attempt (PR #1987):
- Upgraded `@ag-grid-community/styles` from ^31.2.0 to ^32.0.2
- Upgraded `ag-grid-react` from ^31.2.0 to ^32.0.2
- Added resolutions for `braces` (^3.0.3) and `ws` (^8.18.0)

Rollback (PR #1989):
- Downgraded `@ag-grid-community/styles` to ^31.3.4 due to ES2020 compilation failures with v32

Final resolution (PR #2001):
- Completely removed ag-grid package due to critical CVE-2024-38996
- Disabled data table functionality in Logs Explorer

### Technical Changes

The ag-grid v32 upgrade caused webpack compilation failures due to ES2020 syntax:

```
ERROR in ./node_modules/ag-grid-react/dist/package/index.cjs.js 284:49
Module parse failed: Unexpected token (284:49)
```

The spread operator syntax used in v32 was incompatible with the existing webpack configuration. Rather than modifying the build configuration, the team chose to remove the ag-grid dependency entirely.

### UI Impact

The data table view in Logs Explorer was removed. Users can access the same data through the Events view.

## Limitations

- Data table visualization in Logs Explorer is no longer available
- Users must use the Events view for tabular log data

## References

### Pull Requests

| PR | Description | Related Issue |
|----|-------------|---------------|
| [#1987](https://github.com/opensearch-project/dashboards-observability/pull/1987) | Fix CVEs for ag-grid, ws and braces packages | CVE-2024-39001, CVE-2024-37890 |
| [#1989](https://github.com/opensearch-project/dashboards-observability/pull/1989) | CVE fix for ag (rollback to v31.3.4) | CVE-2024-39001 |
| [#2001](https://github.com/opensearch-project/dashboards-observability/pull/2001) | Remove ag grid package | [#1910](https://github.com/opensearch-project/dashboards-observability/issues/1910) |
